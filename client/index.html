<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Exo:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;1,100;1,200;1,300;1,400;1,500;1,600;1,700&family=Orbitron:wght@400;500;600;700;800;900&family=Roboto+Condensed:ital,wght@0,300;0,400;0,700;1,300;1,400;1,700&display=swap" rel="stylesheet">

    <script src="https://cdn.socket.io/4.2.0/socket.io.min.js" integrity="sha384-PiBR5S00EtOj2Lto9Uu81cmoyZqR57XcOna1oAuVuIEjzj0wpqDVfD0JA9eXlRsj" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.8.0/chart.min.js" integrity="sha512-sW/w8s4RWTdFFSduOTGtk4isV1+190E/GghVffMA9XczdJ2MDzSzLEubKAs5h0wzgSJOQTRYyaz73L3d6RtJSg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="./jq-dev.js"></script>
    <script src="./plotly.js"></script>
    
    <link rel="stylesheet" href="node_modules/xterm/css/xterm.css" />
    <script src="node_modules/xterm/lib/xterm.js"></script>

    <script src="graph.js"></script>
    <script src="gl-matrix.js"></script>
    <script src="gl-utils.js"></script>
    
    <script src="script.js"></script>

    <link rel="stylesheet" href="style.css">
</head>
<body onload="main();">
    <img id="stream" src=""></video>
    <div>
        <div class="bruh">
            <div>
                <div id="status-panel">
                    <div class="status-title">
                        <span>drone</span>
                        <br>
                        <span>controller</span>
                        <br>
                        <span>status</span>
                        <br>
                        <span>last sensor update</span>
                    </div>
                    <div class="status-value">
                        <span id="conn-dot" class="status-dot">&#8226;</span><span class="bold-placeholder">a</span>
                        <br>
                        <span id="ctrller-dot" class="status-dot">&#8226;</span><span class="bold-placeholder">a</span>
                        <br>
                        <span id="status">n/a</span><span class="bold-placeholder">a</span>
                        <br>
                        <span id="last-update">0 s</span><span class="bold-placeholder">a</span>
                    </div>
                </div>
                <div>
                    <button id="con-btn" onclick="connect(); ">Connect</button>
                    <button onclick='toggleStream();' id="con-strm">Connect Stream</button>
                    <button id="zero-btn">zero</button>
                    <button id="calib-btn">calibrate</button>
                    <button id="rld-config-btn">reload config</button>
                    <button id="con-ctrl-btn">connect controller</button>
                </div>
            </div>
            <div>
                <div class="tab">
                    <button class="tablinks" onclick="changeTabs('#gauges')">Gauges</button>
                    <button class="tablinks" onclick="changeTabs('#pid-tuner')">Tuner</button>
                </div>
                <div class="tabcontent shown" id="gauges">
                    <div id="roll-gauges"></div>
                    <div id="pitch-gauges">
                    </div>
                    <div id="yaw-gauges">
                    </div>
                    <div id="accel-gauges"></div>
                    <div id="z-gauges"></div>
                    <div id="bmp-gauges"></div>
                    <div id="motor-gauges"></div>
                </div>
                <div class="tabcontent" id="pid-tuner">
                </div>
            </div>
            <!-- <div id="z-gauges"></div> -->
        </div>
        <!-- <h2>Roll <span id="roll"></span>&deg;</h2>
        <h2>Pitch <span id="pitch"></span>&deg;</h2>
        <h2>Yaw <span id="yaw"></span>&deg;</h2> -->
    </div>
    <canvas id="gl-canvas"></canvas>


    <div id="graphs">
        <select class="graph-select" id="graph-1-select"></select>
        <br>
        <canvas class="graph" id="graph-1"></canvas>
        <ul id="graph-1-legend" class="legend"></ul>
        <select class="graph-select" id="graph-2-select"></select>
        <br>
        <canvas class="graph" id="graph-2"></canvas>
        <ul id="graph-2-legend" class="legend"></ul>
    </div>
    <canvas id="hidden-canvas" hidden></canvas>
    <div id="hidden-div" hidden></div>
</body>
</html>